<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Painel Barbearia</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="tv">

<h1>ðŸ’ˆ BARBEARIA MARCOLA</h1>
<h2>PAINEL DE ATENDIMENTO</h2>

<div id="painel"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAara_9NngSCCrCskbSNTkk9Bl2XQ7f-us",
  authDomain: "barbearia-marcola.firebaseapp.com",
  databaseURL: "https://barbearia-marcola-default-rtdb.firebaseio.com",
  projectId: "barbearia-marcola",
  storageBucket: "barbearia-marcola.appspot.com",
  messagingSenderId: "1055225224019",
  appId: "1:1055225224019:web:2c8fe6789c4ba6ba0e5fa6"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

onValue(ref(db, "fila"), (snapshot) => {
  const painel = document.getElementById("painel");
  painel.innerHTML = "";

  snapshot.forEach((child) => {
    const d = child.val();
    const div = document.createElement("div");
    div.className = "painel-item";
    div.innerHTML = `SENHA ${d.senha} - ${d.nome}`;
    painel.appendChild(div);
  });
});
</script>

</body>
</html>
